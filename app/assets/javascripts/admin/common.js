/*jslint browser:true */
(function () {
  function Common() {
    this.startLoading = function () {
      var $spinnerContainer = $('<div/>').attr('id', 'loader'),
        $spinner = $('<div/>').addClass('spinner')
                    .append($('<div/>').addClass('bounce1'))
                    .append($('<div/>').addClass('bounce2'))
                    .append($('<div/>').addClass('bounce3'));

      $spinnerContainer.append($spinner);
      $('body').prepend($spinnerContainer);
    };

    this.finishLoading = function () {
      $('#loader').remove();
    };

    this.toggler = function (event) {
      var attr = $(this).data('toggler'),
        selector = '[data-toggleable="' + attr + '"]',
        $node = $(selector),
        visible = $node.css('display') === 'block';
      if (visible) {
        $(this).text('Показать фильтры');
      } else {
        $(this).text('Скрыть фильтры');
      }
      $node.fadeToggle(100);
      event.preventDefault();
    };
  }

  window.Kiosk = window.Kiosk || {};
  window.Kiosk.Common = new Common();
}());
